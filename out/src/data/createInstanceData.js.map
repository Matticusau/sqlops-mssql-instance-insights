{"version":3,"sources":["../src/data/createInstanceData.ts"],"names":[],"mappings":"AAAA,EAAE;AACF,uBAAuB;AACvB,sBAAsB;AACtB,sCAAsC;AACtC,EAAE;AACF,gCAAgC;AAChC,6FAA6F;AAC7F,wCAAwC;AACxC,EAAE;AAEF,EAAE;AACF,4FAA4F;AAC5F,EAAE;AAEF,YAAY,CAAC;;;;;;;;;;AAEb,gEAA6D;AAI7D;IAGC,YAAY,QAAe;QACpB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAChC,CAAC;IAEe,gBAAgB,CAAC,QAAa;;YACvC,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;YAC3C,IAAI,YAAY,GAAG,MAAM,6BAAa,CAAC,gBAAgB,EAAE,CAAC;YAC1D,YAAY,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,EAAE,iCAAiC,CAAC,CAAC,IAAI,CAAE,CAAC,MAAkC,EAAE,EAAE;gBAC1H,oEAAoE;gBACpE,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;gBACjD,QAAQ,CAAC,aAAa,CAAC,CAAC;YAC5B,CAAC,EACD,CAAC,KAAU,EAAE,EAAE;gBACX,OAAO,CAAC,KAAK,CAAC,6CAA6C,CAAC,CAAC;gBAC7D,QAAQ,CAAC,aAAa,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAC;QACP,CAAC;KAAA;CACJ;AApBD,gDAoBC","file":"createInstanceData.js","sourcesContent":["//\r\n// Author:  Matt Lavery\r\n// Date:    23/07/2018\r\n// Purpose: create Instance Data model\r\n//\r\n// When         Who         What\r\n// ------------------------------------------------------------------------------------------\r\n// 23/07/2018   MLavery     Initial Code\r\n//\r\n\r\n//\r\n// to do : Need to look to add this to mainController.ts for the additional info when needed\r\n//\r\n\r\n'use strict';\r\n\r\nimport { InstanceUtils } from '../controllers/instanceUtils';\r\n// import { DecorationRangeBehavior } from 'vscode';\r\nimport * as sqlops from 'sqlops';\r\n\r\nexport class CreateInstanceData {\r\n\tpublic ownerUri: string;\r\n\t\r\n\tconstructor(ownerUri:string) {\r\n        this.ownerUri = ownerUri;\r\n\t}\r\n\r\n    public async getServerVersion(callback: any) : Promise<any> {\r\n        console.log('starting getServerVersion()');\r\n        let queryService = await InstanceUtils.getQueryProvider();\r\n        queryService.runQueryAndReturn(this.ownerUri, 'SELECT @@VERSION AS VersionText').then( (result: sqlops.SimpleExecuteResult) => {\r\n            // console.log(\"instanceData.get.result=\" + JSON.stringify(result));\r\n            console.log('completed getServerVersion() TSQL');\r\n            callback('12.0.1234.0');\r\n        },\r\n        (error: any) => {\r\n            console.error('Error while running getServerVersion() TSQL');\r\n            callback('12.0.1234.0');\r\n        });\r\n    }\r\n}"],"sourceRoot":"C:\\GitHub\\sqlops-mssql-instance-insights/src"}